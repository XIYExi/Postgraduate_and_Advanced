# 面向数据流设计方法

面向数据流的设计要解决的任务，就是将软件需求分析阶段生成的逻辑模型**数据流图**映射表达软件系统结构的**软件结构图**
结构化设计属于面向数据流的设计方法

## 软件结构图

1. 模块，在 SC 图中用矩形框表示，并用名字来标记它
2. 模块的调用关系和接口

## 数据流类型

### 变换流

信息沿输入通路进入系统，由外部形式变换成内部形式，通过变换中心加工处理后再沿输出通路变换成外部形势离开软件系统。

### 事物流（redux）

信息沿着输入通路到达处理，由处理根据输入信息类型在若干动作序列中选一个执行。
处理称**事物中心**，完成任务。

1. 接受输入信息（又称事物）
2. 分析每个事务确定类型
3. 根据事物类型选取一活动通路

# 人机界面设计

常见问题：

1. **系统响应时间**
   从用户完成某种控制动作，到软件给出预期响应。
   两个重要属性：长度和易变形
   关于长度：过长用户感到不安、沮丧，用户觉得系统立即响应时间范围 0.1~1 秒，超出 1 秒会让用户注意到延迟。
   |key|value|
   |-----|-----|
   |1-10 秒|鼠标显示为沙漏|
   |10-18 秒|由微帮助来显示处理进度|
   |18 秒以上|显示处理窗口，或显示进度条|
   过短迫使用户加快操作节奏，导致出错。
   关于易变形：易变形指响应时间相对平均响应时间偏差，越低越好，否则会让用户误认为系统工作异常。

2. **用户帮助措施**
   手册和联机帮助（不离开用户界面）
   联机帮助分为两类：集成帮助和附加帮助。
   集成帮助设计在软件里面，附加帮助系统建成后加到软件中，前者可用性更强。
   **请求帮助**：帮助菜单，特殊功能键，HELP 命令。
   **显示帮助信息**：

   - 独立窗口
   - 参考某个文档
   - 屏幕固定位置做简短提示
     **组织帮助信息**：
   - 平面结构，通过关键字访问
   - 层次结构，查更详细信息
   - 超文本结构

3. **出错信息处理**

   - 以用户可以理解术语
   - 提供清楚、易理解报错信息（出错位置、原因）
   - 从错误中恢复的建设性建议
   - 信息用颜色等在视觉上引人注目
   - 命令宏机制：用户定义名字代表一个常用命令序列

4. **命令交互**
   建议保留命令交互方式：
   - 控制序列：Ctrl+C 等
   - 功能键：F1
   - 键入命令
   - 命令宏机制：用户定义名字代表一个常用命令序列

## 设计指南

1. **一般交互**

   - 保持人机界面菜单选择、命令输入、数据显示风格一致
   - 提供有意义信息反馈：双向通信
   - 破坏性动作之前需要有提示
   - 允许取消大多数操作
   - 见少两次操作之间必须的记忆量
   - 提高对话、移动和思考的频率
   - 允许犯错误：保护不受致命错误破坏
   - 按功能对动作分类，设计屏幕布局
   - 提供帮助措施
   - 用简单的动词或动词短语作为命令名

2. **信息显示**

   - 显示与当前工作有关的信息
   - 简单易懂的方式表达：图形或者图表
   - 使用一致标记、标准缩写和可预知的颜色
   - 产生有意义的出错信息
   - 使用模拟的方式显示信息等

3. **数据输入**
   - 减少用户输入动作：鼠标选择、滑动标尺等
   - 使当前不适用命令不起作用
   - 交互灵活：保留各种输入方式
   - 让用户控制交流
   - 对所有输入都提供帮助
   - 消除冗余输入：数据单位、整钱后键入.00、提供缺省值等

---

# 过程设计

过程设计主要任务：

- 确定模块算法
- 确定模块使用数据结构
- 确定模块接口（系统外部接口、用户界面、内部模块间接口细节、输入输出数据）

**结构化程序设计技术是过程设计的关键技术**

- 经典定义：程序代码通过顺序、选择、循环三种控制结构连接，单入口单出口
- 扩展定义：可限制使用 GOTO 语句、DO_UNTIL 和 DO_CASE
- 修正定义：LEAVE 和 BREAK，可从循环中转移出来

[![ppAgC1P.md.png](https://s1.ax1x.com/2023/03/04/ppAgC1P.md.png)](https://imgse.com/i/ppAgC1P)

[![ppAgP6f.md.png](https://s1.ax1x.com/2023/03/04/ppAgP6f.md.png)](https://imgse.com/i/ppAgP6f)

[![ppAgA0g.png](https://s1.ax1x.com/2023/03/04/ppAgA0g.png)](https://imgse.com/i/ppAgA0g)

[![ppAgZkj.png](https://s1.ax1x.com/2023/03/04/ppAgZkj.png)](https://imgse.com/i/ppAgZkj)

## 程序设计流图

### 经典

[![ppAgets.md.png](https://s1.ax1x.com/2023/03/04/ppAgets.md.png)](https://imgse.com/i/ppAgets)

优点：对控制流图描绘直观，便于初学者掌握
缺点：

1.  不是逐步求精的好工具，过早考虑控制流程，非整体结构
2.  用箭头代表控制流，程序员随机转移控制
3.  不易表示数据结构和调用关系

### N-S 图

[![ppAgYN9.md.png](https://s1.ax1x.com/2023/03/04/ppAgYN9.md.png)](https://imgse.com/i/ppAgYN9)

特点：

1.  功能与（一特定控制结构的作用域）明确
2.  不可能任意转移控制
3.  容易确定局部和全程数据的作用域
4.  容易表现嵌套关系，也可表示模块的层次结构

### PAD 图

[![ppAgxDU.md.png](https://s1.ax1x.com/2023/03/04/ppAgxDU.md.png)](https://imgse.com/i/ppAgxDU)

优点：

1.  PAD 图设计出来的必然是结构化程序
2.  PAD 图描绘的程序结构十分清晰
3.  用 PAD 图表现程序逻辑，易读、易懂、易记
4.  容易将 PAD 图转换成高级语言源程序
5.  支持自定向下逐步求精

### 判定表

能清晰表示复杂的条件泽合与应做动作对应关系。
判定表分四部分：

- 左上部列出所有条件
- 左下部列出所有可能做的动作
- 右上部表示各种条件组合的矩阵
- 右下部是和每种条件组合相对应的动作

[![ppA2RIJ.md.png](https://s1.ax1x.com/2023/03/04/ppA2RIJ.md.png)](https://imgse.com/i/ppA2RIJ)

### 判定树

判定表变种，表示复杂条件组合与应做动作间对应关系

[![ppA2TsK.md.png](https://s1.ax1x.com/2023/03/04/ppA2TsK.md.png)](https://imgse.com/i/ppA2TsK)

## 程序复杂度（McCabe 方法）

1. 根据过程设计结果画出对应流图
   流图描述程序控制流，基本图形符号如下

   [![ppA2Xid.md.png](https://s1.ax1x.com/2023/03/04/ppA2Xid.md.png)](https://imgse.com/i/ppA2Xid)

2. 计算流图的环形复杂度
   三种方法：
   V（G） = 区域数
   V（G） = E-N+2 【E 为流图中边数，N 为流图中节点数】
   V（G） = P+1 【P 为判定点数】

# 面向数据结构的设计方法

数据结构既影响程序的结构也影响程序的处理过程，可从数据结构导出程序的处理过程，适合详细设计。

面向数据结构设计方法两种：**Jackson**和**Warnier**方法。

## Jackson 图

[![ppARQwF.md.png](https://s1.ax1x.com/2023/03/04/ppARQwF.md.png)](https://imgse.com/i/ppARQwF)

[![ppAR3FJ.png](https://s1.ax1x.com/2023/03/04/ppAR3FJ.png)](https://imgse.com/i/ppAR3FJ)
